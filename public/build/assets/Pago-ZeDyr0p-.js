import{B as g,q as b,T as v,o as h,c as w,w as i,b as p,a as o,i as C,g as m,l as u,s as x,u as e,t as d,x as k,e as y,h as V,F as B,f as T}from"./app-py0zpGLC.js";import{_ as $}from"./ClientLayout-OmmA2Z-g.js";import{_ as D}from"./BarraDePasos-f3AVhEZg.js";import{_ as f}from"./InputLabel-XaKuR-M_.js";import"./NavLink-zbZKO0gs.js";import"./_plugin-vue_export-helper-x3n3nnut.js";const{Axios:E,AxiosError:M,CanceledError:S,isCancel:U,CancelToken:j,VERSION:A,all:N,Cancel:R,isAxiosError:z,spread:F,toFormData:O,AxiosHeaders:P,HttpStatusCode:L,formToJSON:q,getAdapter:H,mergeConfig:I}=g,J=Object.freeze(Object.defineProperty({__proto__:null,Axios:E,AxiosError:M,AxiosHeaders:P,Cancel:R,CancelToken:j,CanceledError:S,HttpStatusCode:L,VERSION:A,all:N,default:g,formToJSON:q,getAdapter:H,isAxiosError:z,isCancel:U,mergeConfig:I,spread:F,toFormData:O},Symbol.toStringTag,{value:"Module"})),K=b(J),{default:G}=K,Q="https://exchange.vcoud.com/";function W(l,n="-"){const t={á:"a",é:"e",í:"i",ó:"o",ú:"u"};for(const[c,_]of Object.entries(t))l=l.toLowerCase().replace(c,_).replace(" ",n);return l}function X(l){return l.split(" ")[0]==="Dólar"&&l!=="Dólar Today"?l==="Dólar Monitor"?"EnParaleloVzla":l.split(" ")[1]:l}async function Y(l,n,t){let c={};const _=await G.get(Q+"coins/latest");try{if(_.status!==200)throw new Error(`Error de comunicación CriptoDolar. Codigo: ${_.status}`);const r=_.data;for(const a of r)if(a.type.includes("bolivar")||a.type.includes("bancove")){const s={title:X(a.name),price:a.price,price_old:a.priceOld,type:a.type==="bancove"?"bank":"monitor",lastUpdate:a.updatedAt};c[W(s.title)]=s}if(!(l in c))return c;try{const a=c[l.toLowerCase()];if(n){const s=a[n];if(s===void 0)throw new Error("Consulte la documentación de la biblioteca: https://github.com/fcoagz/consulta-dolar-venezuela");return n==="price"&&t?`Bs. ${s}`:s}else return a}catch(a){console.error(`KeyError: ${a.message}`)}}catch(r){console.error(r)}}var Z={getMonitor:Y};const tt={class:""},et={class:"h-full"},ot=o("div",{class:"flex justify-center my-2"},[o("span",{class:"p-2 box-decoration-slice bg-gradient-to-r from-orange-600 to-pink-500 text-white px-2 text-6xl"}," Realizar pago ")],-1),at={class:"flex justify-center"},nt={class:"bg-white rounded-2xl p-4 mx-10 my-5"},st={class:"flex justify-between"},dt={class:"py-2 pr-2"},lt={class:"py-2"},rt={class:"flex justify-between"},it={class:"border p-2 mx-2"},ct=o("div",{class:"border p-2 mx-2"},"Costo por voleto: 2$",-1),_t=["value"],pt=o("button",{class:"w-full text-center ease-in duration-300 bg-green-500 hover:bg-orange-700 shadow-lg shadow-green-500/50 rounded-lg p-2 my-2 text-white text-2xl text-center"}," Registrar pago ",-1),ut={key:0,class:"p-4 m-1 rounded w-50"},mt={class:"p-6 max-w-sm mx-auto bg-white rounded-xl shadow-lg flex items-center space-x-0"},xt={class:"p-2"},ft=o("div",{class:"text-2xl font-medium text-black text-center"},"Datos del método:",-1),ht={class:"text-slate-950 text-2xl text-center"},yt={class:"text-slate-300 text-center"},gt={class:"text-orange-500 text-2xl text-center"},bt={class:"text-slate-300 text-center"},vt={class:"text-orange-500 text-2xl text-center"},wt={class:"text-slate-300 text-center"},Ct={class:"text-orange-500 text-2xl text-center"},kt={class:"text-slate-300 text-center"},Vt={class:"text-orange-500 text-2xl text-center"},Bt={class:"text-slate-300 text-center"},Tt={class:"text-orange-500 text-2xl text-center"},$t={class:"text-slate-300 text-center"},Dt={class:"text-orange-500 text-2xl text-center"},Nt={__name:"Pago",setup(l){const n=[{id:1,name:"Pago Movil",phone:"0414-3534569",account:null,account_type:null,bank:"Banco de Venezuela",bank_code:"0102",card_id:"24823972"},{id:2,name:"Transferencia",phone:null,account:"01054578124512456352",account_type:"Corriente",bank:"Banco Mercantil",bank_code:"0105",card_id:"24823972"}],t=v({rifa:"FERARRI",client_id:1,raffle_id:1,payment_method_id:null,payment_date:null,tasa:0,amount:2,total:0,monitor_tasa:{}});(async r=>{await Z.getMonitor("BCV","lastUpdate").then(a=>{r.monitor_tasa=a.bcv,r.tasa=a.bcv.price,r.total=parseFloat(a.bcv.price)*r.amount})})(t);const _=r=>{r.total=parseFloat(r.tasa)*r.amount};return(r,a)=>(h(),w($,{title:"Realizar pago"},{header:i(()=>[p(D)]),default:i(()=>[o("section",tt,[o("div",et,[ot,o("div",at,[o("div",nt,[o("form",{onSubmit:a[8]||(a[8]=C(s=>e(t).post("/compras"),["prevent"]))},[p(f,{class:"text-xl"},{default:i(()=>[m("Premio")]),_:1}),u(o("input",{class:"rounded-2xl my-2 w-full bg-orange-500 text-center text-2xl",readonly:"",type:"text","onUpdate:modelValue":a[0]||(a[0]=s=>e(t).rifa=s)},null,512),[[x,e(t).rifa]]),u(o("input",{class:"",readonly:"",type:"hidden","onUpdate:modelValue":a[1]||(a[1]=s=>e(t).raffle_id=s)},null,512),[[x,e(t).raffle_id]]),o("div",st,[o("div",dt,[p(f,{class:"text-xl"},{default:i(()=>[m("Cantidad de voletos")]),_:1}),u(o("input",{class:"rounded-2xl my-2 text-center text-1xl",type:"number",onChange:a[2]||(a[2]=s=>_(e(t))),"onUpdate:modelValue":a[3]||(a[3]=s=>e(t).amount=s)},null,544),[[x,e(t).amount]])]),o("div",lt,[p(f,{class:"text-xl"},{default:i(()=>[m("Monto a cancelar en BS")]),_:1}),u(o("input",{class:"rounded-2xl my-2 text-center",readonly:"",type:"number","onUpdate:modelValue":a[4]||(a[4]=s=>e(t).total=s)},null,512),[[x,e(t).total]])])]),o("div",rt,[o("div",it,"Tasa "+d(e(t).monitor_tasa.title)+": "+d(e(t).tasa)+" Bs",1),ct]),p(f,{class:"text-xl"},{default:i(()=>[m("Fecha de pago")]),_:1}),u(o("input",{class:"rounded-2xl my-2 w-full",type:"date","onUpdate:modelValue":a[5]||(a[5]=s=>e(t).payment_date=s)},null,512),[[x,e(t).payment_date]]),p(f,{class:"text-xl"},{default:i(()=>[m("Método de pago")]),_:1}),u(o("select",{class:"rounded-2xl my-2 w-full",id:"select_metodo_pago","onUpdate:modelValue":a[6]||(a[6]=s=>e(t).payment_method_id=s)},[(h(),y(B,null,V(n,s=>o("option",{key:s.id,value:s.id,selected:""},d(s.name),9,_t)),64))],512),[[k,e(t).payment_method_id]]),p(f,{class:"text-xl"},{default:i(()=>[m("Número de referencia del pago")]),_:1}),u(o("input",{class:"rounded-2xl my-2 w-full",type:"number","onUpdate:modelValue":a[7]||(a[7]=s=>e(t).email=s)},null,512),[[x,e(t).email]]),pt],32)]),e(t).payment_method_id?(h(),y("div",ut,[o("div",mt,[o("div",xt,[ft,o("p",ht,d(n[e(t).payment_method_id-1].name),1),o("p",yt,d(n[e(t).payment_method_id-1].phone?"Teléfono":""),1),o("p",gt,d(n[e(t).payment_method_id-1].phone?n[e(t).payment_method_id-1].phone:""),1),o("p",bt,d(n[e(t).payment_method_id-1].account?"Cuenta Bancaria":""),1),o("p",vt,d(n[e(t).payment_method_id-1].account?n[e(t).payment_method_id-1].account:""),1),o("p",wt,d(n[e(t).payment_method_id-1].account_type?"Tipo de cuenta":""),1),o("p",Ct,d(n[e(t).payment_method_id-1].account_type?n[e(t).payment_method_id-1].account_type:""),1),o("p",kt,d(n[e(t).payment_method_id-1].bank?"Banco":""),1),o("p",Vt,d(n[e(t).payment_method_id-1].bank?n[e(t).payment_method_id-1].bank:""),1),o("p",Bt,d(n[e(t).payment_method_id-1].bank_code?"Código":""),1),o("p",Tt,d(n[e(t).payment_method_id-1].bank_code?n[e(t).payment_method_id-1].bank_code:""),1),o("p",$t,d(n[e(t).payment_method_id-1].card_id?"Documento de identidad":""),1),o("p",Dt,d(n[e(t).payment_method_id-1].card_id?n[e(t).payment_method_id-1].card_id:""),1)])])])):T("",!0)])])])]),_:1}))}};export{Nt as default};
