import{_ as j}from"./AuthenticatedLayout-NLh0ybJB.js";import{h as c,o as y,c as U,w as n,a as e,b as s,i as h,t as i,j as a,e as S,k as F,F as q,l as L}from"./app-D0LO5Wnf.js";import{S as M}from"./SectionTitle-ew_BVGHN.js";import{u as b,S as $}from"./sweetalert2.all-fZ5qP9uf.js";import{D as R}from"./DangerButton-nDIld45a.js";import{P as W}from"./PrimaryButton-1fs_vIz9.js";import{r as z,W as A}from"./WarningButton-Uq1FQqDr.js";import{_ as u}from"./InputLabel-vSaDj9Nr.js";import{_ as p}from"./InputError-A-V10aDg.js";import{_ as f}from"./TextInput-JA5dbW4e.js";import{_ as G}from"./Modal-1-kxxN7J.js";import{h as O}from"./vue-tailwind-pagination.es-2G-PXux5.js";import{r as H}from"./PlusCircleIcon-TxP3FAje.js";import{r as J}from"./TrashIcon-MRvOA9Dp.js";import{r as K}from"./ArchiveBoxArrowDownIcon-Xn436FLP.js";import"./ResponsiveNavLink-uivEQ9AE.js";import"./NavLink-qoj8A4UG.js";import"./_plugin-vue_export-helper-x3n3nnut.js";const Q={class:"flex flex-wrap justify-between"},X=e("div",{class:"text-4xl"}," Listas de clientes ",-1),Y={class:"overflow-x-auto p-5"},Z={class:"min-w-full shadow-sm border-gray-200"},ee=e("thead",{class:"px-3 py-2 font-semibold text-left bg-gray-100 border-b"},[e("tr",null,[e("th",{class:"border border-gray-400 px-2 py-2"},"Nombre completo"),e("th",{class:"border border-gray-400 px-2 py-2"},"Cédula"),e("th",{class:"border border-gray-400 px-2 py-2"},"Correo"),e("th",{class:"border border-gray-400 px-2 py-2"},"Teléfono"),e("th",{class:"border border-gray-400 px-2 py-2"},"Acciones")])],-1),te={class:"bg-white"},se={class:"border border-gray-400 px-2 py-2"},oe={class:"border border-gray-400 px-2 py-2"},ae={class:"border border-gray-400 px-2 py-2"},re={class:"border border-gray-400 px-2 py-2"},le={class:"border border-gray-400 px-2 py-2"},ne={colspan:"5"},ie={class:"flex flex-wrap justify-center"},de={class:"w-full bg-orange-500 text-3xl font.medium text-gray-900 p-2"},me={class:"mt-1 p-3"},ce={class:"mt-1 p-3"},ue={class:"mt-1 p-3"},pe={class:"mt-1 p-3"},De={__name:"Index",props:{message:{type:String,default:""},status:{type:Number,default:""},clients:{type:Object}},setup(d){const v=c(null),_=c(!1),g=c(""),C=c(1),w=c(""),o=b({name:"",card_id:"",email:"",phone:""}),B=b({}),I=l=>{B.get(route("clientes.index",{page:l}))},k=(l,r,t,m,N,P)=>{_.value=!0,L(()=>v.value.focus()),C.value=l,w.value=P,l==1?g.value="Crear":(g.value="Editar",o.name=r,o.card_id=t,o.email=m,o.phone=N)},V=()=>{_.value=!1,o.reset()},E=()=>{C.value==1?o.post(route("clientes.store"),{onSuccess:()=>{x("Cliente Creado")}}):o.put(route("clientes.update",w.value),{onSuccess:()=>{x("Cliente Editado")}})},T=b({id:""}),x=l=>{o.reset(),V(),$.fire({title:l,icon:"success"})},D=(l,r)=>{$.mixin({buttonsStyling:!0}).fire({title:"Seguro que desea eliminar a el cliente "+r+" ?",icon:"question",showCancelButton:!0,confirmButtonText:"si, Eliminar",cancelButtonText:"Cancelar"}).then(m=>{m.isConfirmed&&(console.log(l),T.delete(route("clientes.destroy",l),{onSuccess:()=>{x("Cliente Eliminado")}}))})};return(l,r)=>(y(),U(j,{title:"Clientes"},{header:n(()=>[e("div",Q,[e("div",null,[s(M,null,{title:n(()=>[X]),description:n(()=>[h(" En la siguiente lista puede visualizar, editar y eliminar los clientes creados. "+i(d.message),1)]),_:1})]),e("div",null,[e("button",{onClick:r[0]||(r[0]=t=>k(1)),class:"flex flex-wrap text-orange-600"},[s(a(H),{style:{width:"55px"}}),h(" Registrar Cliente ")])])])]),default:n(()=>[e("div",Y,[e("table",Z,[ee,e("tbody",te,[(y(!0),S(q,null,F(d.clients.data,t=>(y(),S("tr",{key:t.id},[e("td",se,i(t.name),1),e("td",oe,i(t.card_id),1),e("td",ae,i(t.email),1),e("td",re,i(t.phone),1),e("td",le,[s(A,{onClick:m=>k(2,t.name,t.card_id,t.email,t.phone,t.id)},{default:n(()=>[s(a(z),{style:{width:"15px"}})]),_:2},1032,["onClick"]),s(R,{class:"mx-1",onClick:m=>D(t.id,t.name)},{default:n(()=>[s(a(J),{style:{width:"15px"}})]),_:2},1032,["onClick"])])]))),128))]),e("tfoot",null,[e("tr",null,[e("td",ne,[s(a(O),{current:d.clients.current_page,total:d.clients.total,"text-before-input":"Ir a la pagina","text-after-input":"Ir","per-page":d.clients.per_page,onPageChanged:r[1]||(r[1]=t=>I(t))},null,8,["current","total","per-page"])])])])])]),s(G,{show:_.value,onClose:V,class:""},{default:n(()=>[e("div",ie,[e("h2",de,i(g.value),1),e("div",me,[s(u,{for:"name",value:"Nombre completo:"}),s(f,{id:"name",ref_key:"nameInput",ref:v,modelValue:a(o).name,"onUpdate:modelValue":r[2]||(r[2]=t=>a(o).name=t),type:"text",class:"m-2",placeholder:"Ingrese nombre"},null,8,["modelValue"]),s(p,{message:a(o).errors.name,class:"mt-2"},null,8,["message"])]),e("div",ce,[s(u,{for:"card_id",value:"Rif o Documento de identidad:"}),s(f,{id:"card_id",modelValue:a(o).card_id,"onUpdate:modelValue":r[3]||(r[3]=t=>a(o).card_id=t),type:"text",class:"m-2",placeholder:"Ingrese número de documento"},null,8,["modelValue"]),s(p,{message:a(o).errors.card_id,class:"mt-2"},null,8,["message"])]),e("div",ue,[s(u,{for:"email",value:"E-mail:"}),s(f,{id:"email",modelValue:a(o).email,"onUpdate:modelValue":r[4]||(r[4]=t=>a(o).email=t),type:"text",class:"m-2",placeholder:"Ingrese correo electrónico"},null,8,["modelValue"]),s(p,{message:a(o).errors.email,class:"mt-2"},null,8,["message"])]),e("div",pe,[s(u,{for:"phone",value:"Teléfono:"}),s(f,{id:"phone",modelValue:a(o).phone,"onUpdate:modelValue":r[5]||(r[5]=t=>a(o).phone=t),type:"text",class:"m-2",placeholder:"Ingrese número de teléfono"},null,8,["modelValue"]),s(p,{message:a(o).errors.phone,class:"mt-2"},null,8,["message"])]),s(W,{disabled:a(o).processing,onClick:E,class:"flex w-full mx-20"},{default:n(()=>[s(a(K),{style:{width:"25px"},class:"mx-2"}),h("Guardar ")]),_:1},8,["disabled"])])]),_:1},8,["show"])]),_:1}))}};export{De as default};
